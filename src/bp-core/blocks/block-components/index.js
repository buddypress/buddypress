!function(){"use strict";var e={n:function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,{a:s}),s},d:function(t,s){for(var r in s)e.o(s,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:s[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{AutoCompleter:function(){return m}});var s=window.wp.element,r=window.wp.apiFetch,a=e.n(r),o=window.wp.components,n=window.wp.i18n,l=window.wp.url;class c extends s.Component{constructor(){super(...arguments),this.state={search:"",items:[],error:""},this.searchItemName=this.searchItemName.bind(this),this.selectItemName=this.selectItemName.bind(this)}searchItemName(e){const{search:t}=this.state,{component:s,objectQueryArgs:r}=this.props;this.setState({search:e}),e.length<t.length&&this.setState({items:[]});let o="/buddypress/v1/"+s,n={};e&&(n.search=encodeURIComponent(e)),r&&(n=Object.assign(n,r)),a()({path:(0,l.addQueryArgs)(o,n)}).then((e=>{this.setState({items:e})}),(e=>{this.setState({error:e.message})}))}selectItemName(e,t){const{onSelectItem:s}=this.props;return e.preventDefault(),this.setState({search:"",items:[],error:""}),s({itemID:t})}render(){const{search:e,items:t}=this.state;let r,{ariaLabel:a,placeholder:l,useAvatar:c,slugValue:m}=this.props;return a||(a=(0,n.__)("Item's name","buddypress")),l||(l=(0,n.__)("Enter Item's name hereâ€¦","buddypress")),t.length&&(r=t.map((e=>(0,s.createElement)("button",{type:"button",key:"editor-autocompleters__item-item-"+e.id,role:"option","aria-selected":"true",className:"components-button components-autocomplete__result editor-autocompleters__user",onClick:t=>this.selectItemName(t,e.id)},c&&(0,s.createElement)("img",{key:"avatar",className:"editor-autocompleters__user-avatar",alt:"",src:e.avatar_urls.thumb.replaceAll("&#038;","&")}),(0,s.createElement)("span",{key:"name",className:"editor-autocompleters__user-name"},e.name),m&&null!==m(e)&&(0,s.createElement)("span",{key:"slug",className:"editor-autocompleters__user-slug"},m(e)))))),(0,s.createElement)(s.Fragment,null,(0,s.createElement)("input",{type:"text",value:e,className:"components-placeholder__input","aria-label":a,placeholder:l,onChange:e=>this.searchItemName(e.target.value)}),0!==t.length&&(0,s.createElement)(o.Popover,{className:"components-autocomplete__popover",focusOnMount:!1,position:"bottom left"},(0,s.createElement)("div",{className:"components-autocomplete__results"},r)))}}var m=c;(window.bp=window.bp||{}).blockComponents=t}();