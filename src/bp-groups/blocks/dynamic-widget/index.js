(()=>{"use strict";const e=window.wp.i18n,t=window.bp.dynamicWidgetBlock;class s extends t.dynamicWidgetBlock{loop(t=[],s="",r="active"){const o=super.useTemplate("bp-dynamic-groups-item"),a=document.querySelector("#"+s);let c="";t&&t.length?t.forEach((t=>{if("newest"===r&&t.created_since)
/* translators: %s is time elapsed since the group was created */
t.extra=(0,e.sprintf)((0,e.__)("Created %s","buddypress"),t.created_since);else if("popular"===r&&t.total_member_count){const s=parseInt(t.total_member_count,10);t.extra=0===s?(0,e.__)("No members","buddypress"):1===s?(0,e.__)("1 member","buddypress"):(0,e.sprintf)(/* translators: %s is the number of Group members (more than 1). */ /* translators: %s is the number of Group members (more than 1). */
(0,e.__)("%s members","buddypress"),t.total_member_count)}else
/* translators: %s: last activity timestamp (e.g. "Active 1 hour ago") */
t.extra=(0,e.sprintf)((0,e.__)("Active %s","buddypress"),t.last_activity_diff);
/* Translators: %s is the group's name. */t.avatar_alt=(0,e.sprintf)((0,e.__)("Group Profile photo of %s","buddypress"),t.name),c+=o(t)})):c='<div class="widget-error">'+(0,e.__)("There are no groups to display.","buddypress")+"</div>",a.innerHTML=c}start(){this.blocks.forEach(((e,t)=>{const{selector:s}=e,{type:r}=e.query_args,o=document.querySelector("#"+s).closest(".bp-dynamic-block-container");super.getItems(r,t),o.querySelectorAll(".item-options a").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),e.target.closest(".item-options").querySelector(".selected").classList.remove("selected"),e.target.classList.add("selected");const s=e.target.getAttribute("data-bp-sort");s!==this.blocks[t].query_args.type&&super.getItems(s,t)}))}))}))}}const r=new s(window.bpDynamicGroupsSettings||{},window.bpDynamicGroupsBlocks||[]);"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r.start()):r.start()})();